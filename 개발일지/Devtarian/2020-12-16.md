#### `2020-12-16 (ìˆ˜)`

<br/>

# ğŸ’» 1

## ğŸ“‚1-1 useInput

<br/>

> src > hooks > useInput

<br/>

- Q ) ê° formë“¤ì˜ input value onChangeì™€ error messageë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í• ê¹Œ?
- A ) onSubmitì˜ ê²½ìš° ì¡°ê¸ˆì”© ì½”ë“œê°€ ë‹¤ë¥´ë¯€ë¡œ ë”°ë¡œ ë¹¼ê³ , valueì˜ onChangeì™€ error messageëŠ” ê³µí†µë˜ë¯€ë¡œ use hooksë¡œ ë§Œë“¤ì–´ í•¨ìˆ˜ í•˜ë‚˜ë¡œ ê´€ë¦¬í•œë‹¤.

```js
import React, { useState } from 'react';
import { validate } from '../utils/helper';

const useInput = (initInput) => {
  const [inputs, setInputs] = useState(initInput);
  const [errors, setErrors] = useState({
    userName: {
      isTrue: true,
      message: 'í‘œì¤€ í•œê¸€, ì˜ë¬¸ ì´ë¦„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”. (2~20ì)',
    },
    email: {
      isTrue: true,
      message: 'ì´ë©”ì¼ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”.',
    },
    password: {
      isTrue: true,
      message: 'ì˜ë¬¸ê³¼ ìˆ«ìë¥¼ ì¡°í•©í•´ 8ìë¦¬ ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.',
    },
    passwordCheck: {
      isTrue: true,
      message: 'ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',
    },
    avatar: {
      isTrue: true,
      message: 'ì´ë¯¸ì§€ íŒŒì¼(.jpg .jpeg .png .gif .bmp)ë§Œ ì˜¬ë ¤ì£¼ì„¸ìš”.',
    },
  });

  const onImageUpload = (e) => {
    let file = e.target.files[0];
    let fileURLs = URL.createObjectURL(file);

    if (!file.type.includes('image')) {
      e.preventDefault();
      alert(errors.avatar.message);
    } else {
      setInputs({ ...inputs, avatar: file, avatarURL: fileURLs });
    }
  };

  const onInputChange = (e) => {
    e.preventDefault();
    const { name, value } = e.target;
    const isTrue = validate(name, value, inputs);

    setErrors((prevState) => ({
      ...prevState,
      [name]: {
        ...prevState[name],
        isTrue,
      },
    }));

    setInputs({ ...inputs, [name]: value });
  };
  return { inputs, setInputs, errors, onImageUpload, onInputChange };
};

export default useInput;
```

<br/>

# ğŸ’» 2

## ğŸ“‚2-1 Form validation ì²´í¬ ì‹œ errors

<br/>

> src > pages > login > Login.js     


<br/>

- Q ) SignInput componentì— 'errors' ë¥¼ propsë¡œ ì–´ë–»ê²Œ ë‚´ë ¤ì¤„ê¹Œ?
- A ) 
  - SignInputì— ì•„ë˜ ì²˜ëŸ¼ errorsê°€ ì•„ë‹Œ ê±¸ëŸ¬ì§„ errorë¥¼ ë‚´ë ¤ì£¼ë©´ ë‚˜ì¤‘ì— useMemoë¡œ ìµœì í™”ë¥¼ í•  ìˆ˜ ìˆë‹¤. 
  - ê±°ë¥´ì§€ ì•Šì€ errorsë¥¼ ë‚´ë ¤ì£¼ë©´ formì„ ì…ë ¥í•˜ëŠ” ê³¼ì •ì—ì„œ errors ê°’ ì¤‘ í•˜ë‚˜ë§Œ ë°”ë€Œì–´ë„ ì „ì²´ê°€ ë‹¤ ëœë”ë§ ë˜ê¸° ë•Œë¬¸ì— ìµœì í™”ë¥¼ í•˜ê¸°ê°€ ì–´ë µë‹¤.

  <br/>

> src > pages > login > Login.js     

<br/>

Login
```js
...

<SignInput
  type="email"
  placeholder="ì´ë©”ì¼"
  name="email"
  value={inputs.email}
  onInputChange={onInputChange}
  errors={errors.email}
  required
/>
<SignInput
  type="password"
  placeholder="ë¹„ë°€ë²ˆí˜¸"
  name="password"
  value={inputs.password}
  onInputChange={onInputChange}
  errors={errors.password}
  required
/>

...

```

<br/>

> src > components > form > SignInput.js

<br/>

SignInput
```js
...

const SignInput = ({ type, placeholder, name, value, errors, onInputChange }) => {
  return (
    <Wrap>
      <label>{type}</label>
      <input type={type} placeholder={placeholder} name={name} value={value} onChange={onInputChange} />
      <p className={errors?.isTrue ? 'err' : 'err on'}>{errors?.message}</p>
    </Wrap>
  );
};

...

```

<br/>

# ğŸ’» 3

## ğŸ“‚3-1 Styled Componentì—ì„œ propsë¡œ img urlì„ ë‚´ë ¤ì¤„ ë•Œ

<br/>

- Q ) Styled Componentì—ì„œ propsë¡œ img urlì„ ë‚´ë ¤ì¤„ ë•Œ
- A ) ASIS ì²˜ëŸ¼ divì˜ backgroundë¡œ ê¹” ê²½ìš° ìµœìƒìœ„ componentì— propsë¥¼ ë‚´ë ¤ì£¼ê³ , ê·¸ê±¸ ë‹¤ì‹œ ì ìš© í•  componentë¡œ ì „ë‹¬í•´ì•¼ í•˜ì§€ë§Œ, img tagì˜ ê²½ìš° src ì†ì„±ì´ ìˆì–´ ìµœìƒìœ„ componentë¥¼ ê±°ì¹˜ì§€ ì•Šê³  ë°”ë¡œ srcì— ë‚´ë ¤ì£¼ë©´ ëœë‹¤.

<br/>

> src > componnets > form > UploadProfileImg.js

<br/>

UploadProfileImg

#### ASIS

```html
const UploadProfileImg = ({ inputs, onImageUpload, onInputChange }) => {

...

  return (
    <Wrap className="wrap" url={inputs.avatarURL}>
      <label>í”„ë¡œí•„ ì‚¬ì§„</label>
      <input type="file" name="avatar" accept="image/*" ref={refHiddenInput} onChange={handleImageUpload} />
      <div className="imgContainer" onClick={handleUploadBtnClick}>
        <img src={inputs.avatarURL} alt="í”„ë¡œí•„ì‚¬ì§„" onError={onError} />
      </div>
    </Wrap>
  );
};

export default UploadProfileImg;

const Wrap = styled.div`
  .imgContainer {
    img {

      ...

      background: ${(props) => (props.url ? `url(${props.url})` : props.theme.background[1])};

      ...

      }

```
<br/>

#### TOBE

```html
const UploadProfileImg = ({ inputs, onImageUpload, onInputChange }) => {

...

  return (
    <Wrap className="wrap">
      <label>í”„ë¡œí•„ ì‚¬ì§„</label>
      <input type="file" name="avatar" accept="image/*" ref={refHiddenInput} onChange={handleImageUpload} />
      <div className="imgContainer" onClick={handleUploadBtnClick}>
        <img src={inputs.avatarURL} alt="í”„ë¡œí•„ì‚¬ì§„" onError={onError} />
      </div>
    </Wrap>
  );
};

export default UploadProfileImg;

const Wrap = styled.div`
  .imgContainer {
    img {

      ...

      background: ${(props) => (props.url ? `url(${props.url})` : props.theme.background[1])};

      ...

      }

```
